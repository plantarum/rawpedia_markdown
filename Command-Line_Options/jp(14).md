<span style="color: #000000; background: none; overflow: hidden; page-break-after: avoid; font-size: 2.0em; font-family: Georgia,Times,serif; margin-top: 1em; margin-bottom: 0.25em; line-height: 1.3; padding: 0; border-bottom: 1px solid #AAAAAA;">コマンドラインオプション
</span>

## 説明


`<>`は、貴方が入力するパラメータです

`[]` は、必須パラメータではありません

`|` は、どちらかを選ぶという意味です

`-` は、ある値から他の値までの可能な範囲を示しています

バージョン5.1以降のRawTherapeeには実行プログラムが2つ入っています。

### RawTherapeeのGUI版

使用:


`rawtherapee `<selected dir>


ディレクトリー内で[ファイルブラウザを](The_File_Browser_Tab/jp "wikilink")起動します

`rawtherapee `<file>


[画像編集の](The_Image_Editor_Tab/jp "wikilink")起動

<code>rawtherapee <options> -c

<dir>

\|<files></code>


<options>が特定されていない場合、デフォルトパラメータでバッチにあるファイルを変換します。

<!-- -->


`-w`


このオプションはWindowsコンソールを開けないようにするコマンドで、Windowsだけで有効です。RawTherapeeの実行ファイルにパラメータが送られると、コンソールウィンドウが開かれ、貴方の行う操作の出力を見ることが出来ます。通常、RawTherapeeを終了すると、このコンソールも直ぐ閉じられてしまいますので、出力を確認出来るよう、閉じる、を実行する前にキー入力するコマンドプロンプトを加えてあります。`-w`を使うとこのコンソールウィンドウが開かれないので、閉じるためのキー入力も必要ない訳です。例えば、PowerShellスクリプトを使って、バッチからエグゼファイルを起動させる時などに便利です。

`-c`を使った他のオプション（`-c`は必ず最後のオプション）：


<code>rawtherapee \[-o

<output>

\|-O

<output>

\] \[-s\|-S\] \[-p <files>\] \[-d\] \[-j\[1-100\]
\[-js\<1-3\>\]\|\[-b\<8\|16\>\] \<\[-t\[z\] \| \[-n\]\]\] \[-Y\] -c
<input></code>

<code>-o <file>\|

<dir>

</code>


出力ファイル或いはディレクトリーの選択

<code>-O <file>\|

<dir>

</code>


出力ファイル或いはディレクトリーを選択し、PP3ファイルにそれらをコピーします。

`-s`


画像パラメータを作るために、PP3ファイルを入力ファイル（同じ名前）に収めます、例えばphoto.rawにはphoto.raw.pp3を同じディレクトリーに入れます。そのファイルが存在しなければ、内部デフォルト値（ニュートラル　Default.pp3にある値ではない）が使われます。

`-S`


`-s`と似ていますが、PP3ファイルが存在しなければ、スキップします。

`-p <file.pp3>`


指定したPP3ファイルが、全ての現像に使われます。指定できる`-p`オプションの数に制限はありません（下記の説明を参照）。

`-d`


“環境設定→画像処理→画像処理のデフォルトプロファイル”で設定したデフォルトのrawpp3ファイルか、或いは、非rawpp3ファイルを使います。

`-j[1-100]`


出力をJPEGに指定します（デフォルトではその設定になっています）。随意に圧縮率1から100を加えます（デフォルトでは92に設定されています）。

`-js<1-3>`


JPEGの\[<https://en.wikipedia.org/wiki/Chroma_subsampling>　クロマサブサンプリング\]（英語）のパラメータを指定します：


1＝ベスト圧縮比：2x2、1x1、1x1（4:1:1）　JPEGライブラリーのデフォルト値

2＝通常の圧縮比：2x1、1x1、1x1（4:2:1）

3＝ベスト品質圧縮比：1x1、1x1、1x1（4:4:4）

`-b<8|16>`


チャンネル毎のビット深度を指定します（TIFFとPNGだけに適用出来ます）。

`-t[z]`


出力形式をTIFFファイルに指定します（-8bが設定されていない場合は16bit）。デフォルトは非圧縮に設定されています。或いは‘z’でZipの圧縮率を指定します。

`-n`


出力を圧縮されたPNGファイルに指定します（-8bが設定されていない場合は16bit）。

`-Y`


出力ファイルが存在すれば上書きします。

貴方のPP3ファイルが不完全な場合は、RawTherapeeは以下に従って値を設定します：

1.  内部のデフォルト値（ニュートラル）を使った（RawTherapeeにハードコードされている）新しいプロファイルを作成します。
2.  それから、デフォルトのraw、或いは非rawのPP3ファイルから探し出した値で上書きします（`-d`が設定されていれば）。
3.  それから、`-p`の設定によって提供されたPP3ファイルから探し出した値を上書きします。各値で以前の値を上書きします。
4.  それから、`-s`が設定されていて、そのファイルが存在すればサイドカーファイルで上書きされます；サイドカーファイルで上書きされるタイミングは、コマンドラインの中の`-p`パラメータに対する`-s`スイッチの位置付によります、例えば、

    `-p first.pp3 -p second.pp3 -s -p fourth.pp3`

## 出力先へのリダイレクト

　RawTherapeeの出力先をテキストファイルにする場合は、コンソールから始める必要があるので、以下のようなコマンドを追加して下さい：

Windows（cmd.exe）の場合
`rawtherapee.exe > rtlog.txt 2>&1`

Linux
`rawtherapee &> rtlog.txt`

## コマンドラインを使った例

### 例1

　Linuxで、「/tmpにある“photo.raw”という1枚のraw画像を、サイドカーファイル（photo.raw.pp3）を使って現像し、“foo.tiff”という同じディレクトリーに保存します、もしfoo.tiffが既に存在する場合は、上書き保存する、というコマンドラインを書きます：

`rawtherapee -o /tmp/foo.tif -s -t -Y -c /tmp/photo.raw`

### 例2

　この例は、「/tmp/jane01というディレクトリーにあるraw画像を全て現像し、ウェブというサブディレクトリーに保存します、基本的にはデフォルトプロファイルを使いますが、サイドカープロファイルが存在すればそれを使います、但し、Exif情報の幾つか（例えば、カメラの製造番号）は削除し、幾つかのIPTC情報（例えば、著作権に関するパラメータ）を加えます、更にウェブ用（明確にするためには複数行で表示）に画像をリサイズし、シャープ化を施す、というコマンドラインを書きます：

`rawtherapee -o /tmp/Jane01/web -p ~/profiles/iptc.pp3 -s -p ~/profiles/exif.pp3 -p ~/profiles/web.pp3 -t -Y -d -c /tmp/Jane01/`

　このコマンドラインにより、処理プロファイルが以下の様に作られます：

1.  内部デフォルト値（RawTherapeeにハードコードで埋め込まれている）を使った新しいプロファイルを作成します。
2.  それから、値を環境設定で指定されているrawプロファイルのデフォルトパラメータに置き換えます（`-d`）。
3.  それから、iptc.pp3から得た値に置き換えます。
4.  それから、サイドカーファイル（`-s`）があれば、そこから得た値に置き換えます。従って、iptc.pp3で既に設定されている幾つかのIPTC情報は、強制的に置き換えられます。
5.  それから、exif.pp3から得た値に置き換えます。よって、幾つかのExif情報が強制的に消去されます。
6.  それから、画像をリサイズし、シャープ化を施すためにweb.pp3で得た値に置き換えます。そして出力の色空間がsRGBであることを確認します。

　ご覧の様に、`-s`スイッチの位置が、他の`-p`パラメータに対して、サイドカープロファイルの入力時期を指定しています。`-d`スイッチでは、そうなりません。

### 例3

　この例で、ディレクトリーにある各rawファイルを現像するのにどれ位の時間がかかるか見てみます。各raw画像はそれぞれの現像プロファイルを有していると仮定します：

`time { for f in /home/user/photos/2011-11-11/*.raw; do rawtherapee -o /dev/null -S -t -Y -c "$f"; done }`